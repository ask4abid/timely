<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Timely World Clock - Version 1.0.1 - Fixed loading issue -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your ultimate world clock and timezone companion with real-time updates">
    <meta name="keywords" content="world clock, timezone, time zones, GMT, UTC, international time">
    <meta name="author" content="Timely World Clock">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="üïê Timely - World Clock">
    <meta property="og:description" content="Your ultimate world clock and timezone companion with real-time updates">
    <meta property="og:url" content="">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="üïê Timely - World Clock">
    <meta property="twitter:description" content="Your ultimate world clock and timezone companion with real-time updates">
    
    <title>üïê Timely - World Clock & Time Zone Explorer</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="src/css/styles.css" as="style">
    <link rel="preload" href="src/js/app.js" as="script">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="src/css/styles.css">
    
    <!-- Favicon (you can add your own) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üïê</text></svg>">
</head>
<body>
    <!-- Application Container -->
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1>üïê Timely</h1>
            <p class="tagline">Exact time for any location worldwide</p>
        </header>
        
        <!-- Main Clock Display Section -->
        <section class="main-clock-section" id="mainClockSection">
            <div class="main-clock-container">
                <div class="current-time-display">
                    <div class="main-time" id="mainTime">Loading...</div>
                    <div class="main-date" id="mainDate">Loading...</div>
                    <div class="location-info" id="locationInfo">
                        <span class="main-location" id="mainLocation">Detecting location...</span>
                        <div class="accuracy-info" id="accuracyInfo">
                            <span class="accuracy-text">Accuracy: ¬±0.1 seconds</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Popular Times Section -->
        <section class="popular-times-section">
            <div class="popular-times-grid" id="popularTimesGrid">
                <!-- Popular city times will be displayed here -->
            </div>
        </section>
        
        <!-- Search Section -->
        <section class="search-section" aria-label="Add More Clocks">
            <div class="search-container">
                <input 
                    type="text" 
                    class="search-input" 
                    id="timezoneInput" 
                    placeholder="Add more cities (e.g., London, Tokyo, New York)..."
                    aria-label="Search for a city or timezone"
                    autocomplete="off"
                    spellcheck="false"
                >
                <button class="search-btn btn btn-primary" aria-label="Add timezone">
                    Add Clock
                </button>
                <button class="random-btn btn btn-secondary" aria-label="Add random timezone">
                    üé≤ Random
                </button>
            </div>
            
            <div class="favorites-section" aria-label="Quick access to popular cities">
                <span class="favorites-label">Popular:</span>
                <!-- Popular city buttons will be dynamically generated here -->
            </div>
        </section>
        
        <!-- Main Display Section -->
        <main class="main-display" aria-label="World clocks display">
            <!-- Clock Grid Container -->
            <div class="clock-grid" id="clockContainer">
                <!-- World clocks will be dynamically added here -->
            </div>
            
            <!-- Welcome/Empty State -->
            <div class="welcome-section" id="welcomeSection">
                <!-- Welcome content will be loaded here -->
            </div>
            
            <!-- Timezone Converter (Optional Feature) -->
            <div class="converter-section" id="converterSection" style="display: none;">
                <h3>‚è∞ Time Converter</h3>
                <div class="converter-inputs">
                    <div class="time-input-group">
                        <label for="sourceTime">Time:</label>
                        <input type="time" id="sourceTime" class="time-input">
                    </div>
                    <div class="timezone-select-group">
                        <label for="sourceTimezone">From:</label>
                        <select id="sourceTimezone" class="timezone-select"></select>
                    </div>
                    <div class="timezone-select-group">
                        <label for="targetTimezone">To:</label>
                        <select id="targetTimezone" class="timezone-select"></select>
                    </div>
                    <div class="converter-result" id="converterResult">
                        <!-- Conversion result will appear here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Script -->
    <script>
        // Show loading indicator while JavaScript loads
        document.addEventListener('DOMContentLoaded', () => {
            const welcomeSection = document.getElementById('welcomeSection');
            if (welcomeSection) {
                welcomeSection.innerHTML = `
                    <div class="loading">
                        üîÑ Loading Timely application...
                    </div>
                `;
            }
        });
    </script>

    <!-- Application Scripts -->
    <script src="./timely-bundle.js"></script>

    <!-- Service Worker for offline functionality (optional) -->
    <script>
        // Register service worker if available
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
